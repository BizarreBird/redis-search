{
  "name": "redis-search",
  "tagline": "High performance real-time search (Support Chinese), indexes store in Redis for Rails application",
  "body": "# Redis-Search\r\n\r\nHigh performance real-time prefix search, indexes store in Redis for Rails application.\r\n\r\n[中文介绍和使用说明](https://github.com/huacnlee/redis-search/wiki/Usage-in-Chinese)\r\n\r\n## Master Status\r\n\r\n[![Gem Version](https://badge.fury.io/rb/redis-search.svg)](https://badge.fury.io/rb/redis-search) [![CI Status](https://secure.travis-ci.org/huacnlee/redis-search.svg)](http://travis-ci.org/huacnlee/redis-search) [![CodeCov](https://codecov.io/gh/huacnlee/redis-search/branch/master/graph/badge.svg)](https://codecov.io/gh/huacnlee/redis-search)\r\n\r\n\r\n## Features\r\n\r\n* Real-time search\r\n* High performance\r\n* Prefix match search\r\n* Support match with alias\r\n* Support ActiveRecord and Mongoid\r\n* Sort results by one field\r\n* Homophone search, pinyin search\r\n* Search as pinyin first chars\r\n* Conditions support\r\n\r\n## Requirements\r\n\r\n* Redis 2.2+\r\n\r\n## Install\r\n\r\n```ruby\r\ngem 'redis-search'\r\n```\r\n\r\n```bash\r\n$ bundle install\r\n```\r\n\r\n## Configure\r\n\r\n* Create file in: config/initializers/redis-search.rb\r\n\r\n```ruby\r\nrequire \"redis\"\r\nrequire \"redis-namespace\"\r\nrequire \"redis-search\"\r\n\r\n# don't forget change namespace\r\nredis = Redis.new(host: '127.0.0.1', port: '6379')\r\n# We suggest you use a special db in Redis, when you need to clear all data, you can use `flushdb` command to cleanup.\r\nredis.select(3)\r\n# Give a special namespace as prefix for Redis key, when your have more than one project used redis-search, this config will make them work fine.\r\nredis = Redis::Namespace.new(\"your_app_name:redis_search\", redis: redis)\r\nRedis::Search.configure do |config|\r\n  config.redis = redis\r\n  config.complete_max_length = 100\r\n  config.pinyin_match = true\r\nend\r\n```\r\n\r\n## Usage\r\n\r\n* Bind `Redis::Search` callback event, it will to rebuild search indices when data create or update.\r\n\r\n```ruby\r\nclass Post < ActiveRecord::Base\r\n  include Redis::Search\r\n\r\n  belongs_to :user\r\n  belongs_to :category\r\n\r\n  redis_search title_field: :title,\r\n               score_field: :hits,\r\n               condition_fields: [:user_id, :category_id],\r\n               ext_fields: [:category_name]\r\n\r\n  def category_name\r\n    self.category.name\r\n  end\r\nend\r\n```\r\n\r\n```ruby\r\nclass User < ActiveRecord::Base\r\n  include Redis::Search\r\n\r\n  serialize :alias_names, Array\r\n\r\n  redis_search title_field: :name,\r\n               alias_field: :alias_names,\r\n               score_field: :followers_count,\r\n               ext_fields: [:email, :tagline]\r\nend\r\n```\r\n\r\n```ruby\r\nclass SearchController < ApplicationController\r\n  # GET /search_users?q=j\r\n  def search_users\r\n    Post.prefix_match(params[:q], conditions: { user_id: 12, category_id: 4 })\r\n  end\r\nend\r\n```\r\n\r\n## Index data to Redis\r\n\r\n### Specify Model\r\n\r\nRedis-Search index data to Redis from your model (pass name as CLASS environment variable).\r\n\r\n```bash\r\n$ rake redis_search:index:model CLASS='User'\r\n```\r\n\r\nCustomize the batch size:\r\n\r\n```bash\r\n$ rake redis_search:index:model CLASS='User' BATCH=100\r\n```\r\n\r\n### All Models\r\n\r\nRedis-Search all index data to Redis from `app/models` (or use DIR environment variabl).\r\n\r\n```bash\r\n$ rake redis_search:index DIR=app/models\r\n```\r\n\r\nCustomize the batch size:\r\n\r\n```bash\r\n$ rake redis_search:index DIR=app/models BATCH=100\r\n```\r\n\r\n## Documentation\r\n\r\n* See [Rdoc.info redis-search](http://rubydoc.info/gems/redis-search)\r\n* [Example App](https://github.com/huacnlee/redis-search-example)\r\n\r\n## Benchmark test\r\n\r\nYou can run the rake command (see Rakefile) to make test.\r\nThere is my performance test result.\r\n\r\n* [https://gist.github.com/1150933](https://gist.github.com/1150933)\r\n\r\n## Demo\r\n\r\n![](http://l.ruby-china.org/photo/34368688ee1c1928c2841eb2f41306ec.png)\r\n\r\nProjects used redis-search:\r\n\r\n- [redis-search-example](https://github.com/huacnlee/redis-search-example) - An example for show you how to use redis-search.\r\n- [IMAX.im](https://github.com/huacnlee/imax.im)\r\n- [Ruby China](https://ruby-china.org) - Use for mention autocomplete.\r\n\r\n## License\r\n\r\n* MIT",
  "google": "UA-9745660-1",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}